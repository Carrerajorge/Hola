Nos enfocamos únicamente en la herramienta del Agente (sin tocar el chat): voy a implementar/mejorar un sistema de recuperación web ultra-rápido y robusto; primero explora y documenta la arquitectura actual del WebTool (diagrama de flujo, módulos, endpoints, puntos de acoplamiento, bottlenecks, y riesgos) y después aplica un design + hardening pass sobre lo ya implementado (RetrievalPlanner, ConcurrencyPool, ResponseCache, FastFirstPipeline, RelevanceFilter, métricas) para convertirlo en una arquitectura production-grade con evidencia: 1) define un contrato único RetrievalResult (TypeScript + Zod strict) para toda salida del pipeline (sources[], passages[], citations[], timings, cache, errors, confidence, relevance_score) y valida en runtime en cada boundary; 2) refactoriza a un pipeline determinista por fases (plan → search → select → fetch → extract → filter → cite → respond) con RetrievalContext inmutable y side-effects aislados; 3) endurece ConcurrencyPool (token bucket + per-domain limiter + global limiter, cancel tokens, timeout budgets por fase, y ‘hedged requests’ opcional) y añade tests de concurrencia N-paralelo sin race conditions; 4) fortalece ResponseCache (cache key canónica url+accept+lang, soporte ETag/Last-Modified, stale-while-revalidate, negative caching 404/429, TTLs por tipo y max-bytes) + métricas cache_hit/miss/stale; 5) mejora FastFirstPipeline con fallback ladder explícito (fetch→browser→alternate source) + circuit breaker por dominio + retry con backoff+jitter y clasificación de 403/429/captcha/timeouts sin bloquear el run; 6) hace RelevanceFilter reproducible (chunking estable, scoring definido, top-k) con golden fixtures que validen relevancia al prompt; 7) agrega observabilidad real (spans por fase, p95/p99, taxonomy de errores, correlationId runId/stepId) y un comando npm run web:certify que corra unit+integration+E2E+benchmarks+soak guardando outputs en test_results/web_*; 8) impone SLOs y gates (p95 <3s para cache/fetch y p95 <8s para browser) con degradación controlada (menos fuentes/resumen) sin colgarse; 9) entrega en replit.md un reporte ‘Web Retrieval Architecture Review’ con diagrama, decisiones (tradeoffs), evidencia (salidas de tests/benchmarks) y lista exacta de archivos tocados; cualquier debilidad detectada (cache keys inestables, dedupe incorrecto, leaks Playwright, etc.) repórtala como P0/P1 y corrígela antes de cerrar.