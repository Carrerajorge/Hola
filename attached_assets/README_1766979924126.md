# ğŸš€ xAI Grok API Integration para Replit

IntegraciÃ³n completa con todos los modelos de xAI Grok para usar en Replit.

## ğŸ“‹ Modelos Disponibles

| Modelo | Contexto | Precio Input | Precio Output | CaracterÃ­sticas |
|--------|----------|--------------|---------------|-----------------|
| `grok-4-1-fast-reasoning` | 2M | $0.20/M | $0.50/M | âš¡ Razonamiento |
| `grok-4-1-fast-non-reasoning` | 2M | $0.20/M | $0.50/M | âš¡ RÃ¡pido |
| `grok-code-fast-1` | 256K | $0.20/M | $1.50/M | ğŸ’» CÃ³digo |
| `grok-4-fast-reasoning` | 2M | $0.20/M | $0.50/M | ğŸ§  Razonamiento |
| `grok-4-fast-non-reasoning` | 2M | $0.20/M | $0.50/M | âš¡ RÃ¡pido |
| `grok-4-0709` | 256K | $3.00/M | $15.00/M | ğŸŒŸ Premium |
| `grok-3-mini` | 131K | $0.30/M | $0.50/M | ğŸ’° EconÃ³mico |
| `grok-3` | 131K | $3.00/M | $15.00/M | ğŸ¯ Balanceado |
| `grok-2-vision-1212` | 131K | $2.00/M | $10.00/M | ğŸ‘ï¸ VisiÃ³n |

## âš¡ Inicio RÃ¡pido

### 1. Configurar API Key en Replit

1. Ve a la pestaÃ±a **"Secrets"** (candado ğŸ”’) en Replit
2. Crea un nuevo secret:
   - **Key**: `XAI_API_KEY`
   - **Value**: Tu API key de xAI

### 2. Obtener tu API Key

1. Ve a [console.x.ai](https://console.x.ai)
2. Crea una cuenta o inicia sesiÃ³n
3. Navega a **API Keys**
4. Crea una nueva API key

### 3. Instalar Dependencias

```bash
pip install openai requests python-dotenv
```

### 4. Uso BÃ¡sico

```python
import os
from openai import OpenAI

# Configurar cliente
client = OpenAI(
    api_key=os.getenv("XAI_API_KEY"),
    base_url="https://api.x.ai/v1"
)

# Chat simple
response = client.chat.completions.create(
    model="grok-3-mini",
    messages=[
        {"role": "user", "content": "Hola, Â¿cÃ³mo estÃ¡s?"}
    ]
)

print(response.choices[0].message.content)
```

## ğŸ“š Ejemplos de Uso

### Chat BÃ¡sico

```python
def chat(mensaje: str) -> str:
    response = client.chat.completions.create(
        model="grok-3-mini",
        messages=[{"role": "user", "content": mensaje}]
    )
    return response.choices[0].message.content
```

### GeneraciÃ³n de CÃ³digo

```python
def generar_codigo(descripcion: str) -> str:
    response = client.chat.completions.create(
        model="grok-code-fast-1",
        messages=[
            {"role": "system", "content": "Genera cÃ³digo Python limpio."},
            {"role": "user", "content": descripcion}
        ],
        temperature=0.3
    )
    return response.choices[0].message.content
```

### AnÃ¡lisis de Imagen

```python
def analizar_imagen(url: str, pregunta: str) -> str:
    response = client.chat.completions.create(
        model="grok-2-vision-1212",
        messages=[{
            "role": "user",
            "content": [
                {"type": "text", "text": pregunta},
                {"type": "image_url", "image_url": {"url": url}}
            ]
        }]
    )
    return response.choices[0].message.content
```

### Streaming

```python
stream = client.chat.completions.create(
    model="grok-3-mini",
    messages=[{"role": "user", "content": "Escribe un poema"}],
    stream=True
)

for chunk in stream:
    if chunk.choices[0].delta.content:
        print(chunk.choices[0].delta.content, end="")
```

### Con System Prompt

```python
response = client.chat.completions.create(
    model="grok-3",
    messages=[
        {"role": "system", "content": "Eres un experto en fÃ­sica cuÃ¡ntica."},
        {"role": "user", "content": "Explica el principio de incertidumbre"}
    ]
)
```

### JSON Estructurado

```python
import json

response = client.chat.completions.create(
    model="grok-3-mini",
    messages=[{"role": "user", "content": "Dame 3 paÃ­ses europeos"}],
    response_format={
        "type": "json_schema",
        "json_schema": {
            "name": "paises",
            "schema": {
                "type": "object",
                "properties": {
                    "paises": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "nombre": {"type": "string"},
                                "capital": {"type": "string"}
                            }
                        }
                    }
                }
            }
        }
    }
)

data = json.loads(response.choices[0].message.content)
```

## ğŸ¯ SelecciÃ³n de Modelo

| Caso de Uso | Modelo Recomendado |
|-------------|-------------------|
| Chat general econÃ³mico | `grok-3-mini` |
| GeneraciÃ³n de cÃ³digo | `grok-code-fast-1` |
| Razonamiento complejo | `grok-4-fast-reasoning` |
| AnÃ¡lisis de imÃ¡genes | `grok-2-vision-1212` |
| Tareas que requieren calidad premium | `grok-4-0709` |
| Balance calidad/precio | `grok-3` |
| Respuestas rÃ¡pidas | `grok-4-fast-non-reasoning` |

## ğŸ”§ ParÃ¡metros Importantes

| ParÃ¡metro | DescripciÃ³n | Valores |
|-----------|-------------|---------|
| `temperature` | Creatividad | 0.0 - 2.0 |
| `max_tokens` | Longitud mÃ¡xima | 1 - 4096+ |
| `stream` | Respuesta en tiempo real | True/False |
| `top_p` | Nucleus sampling | 0.0 - 1.0 |

## ğŸ“ Estructura del Proyecto

```
xai_grok_integration/
â”œâ”€â”€ main.py              # Cliente principal completo
â”œâ”€â”€ ejemplos_rapidos.py  # Ejemplos listos para usar
â”œâ”€â”€ requirements.txt     # Dependencias
â”œâ”€â”€ .replit             # ConfiguraciÃ³n de Replit
â””â”€â”€ README.md           # Esta documentaciÃ³n
```

## ğŸ› ï¸ Troubleshooting

### Error 401 (Unauthorized)
- Verifica que tu API key sea correcta
- AsegÃºrate de que estÃ© en los Secrets como `XAI_API_KEY`

### Error 429 (Rate Limit)
- Usa el cliente avanzado con retry automÃ¡tico
- AÃ±ade delays entre requests

### Error 400 (Bad Request)
- Verifica el formato de los mensajes
- AsegÃºrate de usar un modelo vÃ¡lido

## ğŸ“ Soporte

- DocumentaciÃ³n xAI: [docs.x.ai](https://docs.x.ai)
- Consola xAI: [console.x.ai](https://console.x.ai)

## ğŸ“„ Licencia

MIT License - Usa este cÃ³digo libremente en tus proyectos.
